<div class="custom-container">
    <div class="custom-left-container">
        <h1>{{ section.settings.heading }}</h1>
    </div>

    <!-- Slick Slider Container -->
    <div class="custom-right-container">
        <!-- Slick Slider Items -->
        <div class="slick-slider custom-wrapper-1">
            {% for block in section.blocks %}
                <div class="custom-slide">
                    <a href="{{ block.settings.url }}">
                        <img class="custom-image" src="{{ block.settings.image | img_url: 'master' }}" alt="{{ block.settings.heading }}">
                        <h4 class="custom-heading">{{ block.settings.heading }}</h4>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Slick Slider Styles -->
<style>
/* Default Desktop Styles */
.custom-container {
    display: flex;
    gap: 10px;
    width: 1400px;
    max-width: 100%;
    overflow: hidden;
    margin: 35px auto;
    height: max-content;
}

.custom-right-container {
    width: 80%;
}

.custom-left-container {
    width: 20%;
    display: flex;
    align-items: center;
    position: relative;
    background: white;
    z-index: 2;
}

.custom-left-container h1 {
    padding: 15px;
    width: 80%;
    display: flex;
    align-items: center;
    position: absolute;
    top: 50%;
    background: white;
    height: 100%;
    transform: translate(0, -50%);
    z-index: 2;
    justify-content: center;
    font-size: 40px;
}

.custom-slide {
    text-align: center;
}

.custom-slide img.custom-image {
    border-radius: 50%;
}

.custom-slide img.custom-image {
    margin-bottom: 10px !important;
}

.custom-wrapper-1 .slick-track {
    display: flex;
}

@media screen and (min-width: 1025px) {
  .custom-right-container .slick-list.draggable {
    width: 78%;
  }
}

/* Mobile Specific Styles */
@media screen and (max-width: 767px) {
    .custom-container {
        flex-direction: row !important;
        gap: 20px;
        height: 130px !important;
    }

    .custom-right-container {
        width: 80%;
        flex-direction: column;
        column-gap: 10px;
        margin: 0 auto;
    }

    .custom-left-container {
        width: 100%;
        height: auto;
        position: relative;
        z-index: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        background: white;
    }

    .custom-left-container h1 {
        max-height: 0px;
        font-size: 20px; /* Smaller font size for mobile */
        padding: 10px;
        position: relative;
        height: auto;
        transform: translate(0, 0);
        top: auto;
        margin: 10px 0;
        width: 100%;
        height: 100% !important;
    }

    .custom-slide {
        padding: 0px;
    }

    .custom-slide img.custom-image {
        width: 100% !important; /* Make the image smaller on mobile */
        max-width: 200px;
        margin: 0 auto;
    }

    .custom-right-container {
        width: 90% !important;
    }
}

/* Tablet Styles */
@media screen and (max-width: 1024px) {
    .custom-container {
        flex-direction: column;
        gap: 15px;
    }

    .custom-left-container h1 {
        font-size: 24px;
        padding: 15px;
        height: 250px !important;
        transform: none !important;
    }

    .custom-right-container {
        flex-direction: column;
    }

    .custom-slide img.custom-image {
        width: 100%;
    }
}

/* Slick Slider Styles */
.slick-slider .slick-slide {
    padding: 10px;
}
.slick-slide img {
    width: 100%;
    border-radius: 50%;
}

.custom-wrapper-1 ul.slick-dots li {
    display: none;
}
</style>

{% javascript %}
$(document).ready(function() {
    $('.slick-slider').slick({
        slidesToShow: 5,            // Default: How many slides to show at once
        slidesToScroll: 1,          // Default: How many slides to scroll at once
        autoplay: true,             // Enable autoplay
        autoplaySpeed: 2000,        // Speed for autoplay (2 seconds)
        dots: true,                 // Show dots for navigation
        arrows: false,              // Disable arrows for mobile version (optional)
        infinite: true,             // Enable infinite scroll
        responsive: [
            {
                breakpoint: 1200,
                settings: {
                    slidesToShow: 5,
                    slidesToScroll: 1,
                    spaceBetween: 0         // Custom space between slides
                }
            },
            {
                breakpoint: 992,
                settings: {
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    spaceBetween: 15        // Custom space between slides
                }
            },
            {
                breakpoint: 768,
                settings: {
                    slidesToShow: 3,
                    slidesToScroll: 1,
                    spaceBetween: 10        // Custom space between slides
                }
            }
        ]
    });
});
{% endjavascript %}

{% schema %}
  {
    "name": "VB - Custom What's New",
    "settings": [
      {
         "type": "richtext",
         "label": "Heading",
         "id": "heading"
      }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "Block",
        "settings": [
          {
            "type": "image_picker",
            "label": "Select Image",
            "id": "image"
          },
          {
            "type": "text",
            "label": "Heading",
            "id": "heading"
          },
          {
            "type": "url",
            "label": "Link",
            "id": "url"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "VB - Custom What's New"
      }
    ]
  }
{% endschema %}